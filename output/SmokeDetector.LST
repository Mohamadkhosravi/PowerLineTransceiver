"File: SmokeDetector.c  Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Sat Sep 14 16:44:48 2024
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 72
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [72]
  44  0000              
  45  0000              extern ra:byte
  46  0000              extern rb:byte
  47  0000              extern rc:byte
  48  0000              extern rd:byte
  49  0000              extern re:byte
  50  0000              extern rf:byte
  51  0000              extern rg:byte
  52  0000              extern rh:byte
  53  0000              extern _Crom2Prom:near
  54  0000              extern _Crom2PromNext:near
  55  0000              
  56  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  57  0000              @HCCINIT	.section 'data'
  58  0000              @HCCINIT0	.section 'data'
  59  0000              @BITDATASEC	 .section 'data'
"File: SmokeDetector.ASM  Assembler  Version HGASM0202      Page 2

  60  0000              @BITDATASEC1	 .section 'data'
  61  0000              
  62  0000              #pragma debug scope 1 1
  63  0000              	extern __DELAY3:near
  64  0000              	extern __DELAYX3:near
  65  0000              	extern __DELAYX6:near
  66  0000              	extern __DELAYY5:near
  67  0000              	extern __DELAYY3:near
  68  0000              	extern _builtin_holtek_delay_2:byte
  69  0000              ___sda0c equ [35]
  70  0000              ___sda1c equ [37]
  71  0000              public _InitOPA
  72  0000              #pragma debug scope 2 1

  25  0000              #line 25 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  25  0000              _InitOPA .section 'code'
  25  0000              _InitOPA proc
  28  0000              #line 28 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  28  0000  3323        	set [35].6
  29  0001              #line 29 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  29  0001  30A3        	set [35].1
  30  0002              #line 30 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  30  0002  3423        	clr [35].0
  33  0003              #line 33 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  33  0003  3325        	set [37].6
  34  0004              #line 34 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  34  0004  30A5        	set [37].1
  35  0005              #line 35 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  35  0005  3425        	clr [37].0
  35  0006  0003        	ret
  35  0007              _InitOPA endp
  35  0007              #line 35 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  35  0007              #pragma debug scope 1 1
  35  0007              public _InitISINK
  35  0007              #pragma debug scope 3 1
  57  0007              #line 57 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  57  0000              _InitISINK .section 'code'
  57  0000              _InitISINK proc
  57  0000  0003        	ret
  57  0001              _InitISINK endp
  57  0001              #line 57 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  57  0001              #pragma debug scope 1 1
  57  0001              ___sda0vos equ [36]
  57  0001              public _CalibrateOPA0
  57  0001              #pragma debug scope 4 1
  67  0001              #line 67 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  67  0000              _CalibrateOPA0 .section 'code'
  67  0000              _CalibrateOPA0 proc
  72  0000              #line 72 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  72  0000  33A4        	set [36].7
  73  0001              #line 73 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  73  0001  3324        	set [36].6
  73  0002              _L5:
  77  0002              #line 77 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  77  0002  3AA3        	snz [35].5
  77  0003  2800     R  	jmp _L5
  77  0004  1F00     E  	clr ra
  77  0005              _L7:
  81  0005              #line 81 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  81  0005  0700     E  	mov a,ra
"File: SmokeDetector.c  Assembler  Version HGASM0202      Page 3

  81  0006  05A4        	orm a,[36]
  83  0007              #line 83 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  83  0007  3EA3        	sz [35].5
  83  0008  2800     R  	jmp _L12
  79  0009              #line 79 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  79  0009  1480     E  	inc ra
  79  000A  0700     E  	mov a,ra
  79  000B  0A40        	sub a,64
  79  000C  390A        	snz z
  79  000D  2800     R  	jmp _L7
  79  000E  2800     R  	jmp _L6
  79  000F              _L12:
  79  000F  0700     E  	mov a,ra
  79  0010  0080     E  	mov rb,a
  79  0011              _L6:
  91  0011              #line 91 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  91  0011  0F3F        	mov a,63
  91  0012  05A4        	orm a,[36]
  91  0013              _L9:
  92  0013              #line 92 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  92  0013  3EA3        	sz [35].5
  92  0014  2800     R  	jmp _L9
  92  0015  0F3F        	mov a,63
  92  0016  0080     E  	mov ra,a
  92  0017              _L11:
  97  0017              #line 97 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  97  0017  0700     E  	mov a,ra
  97  0018  0E3F        	and a,63
  97  0019  0080     E  	mov rc,a
  97  001A  0700     E  	mov a,rc
  97  001B  05A4        	orm a,[36]
  98  001C              #line 98 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  98  001C  3EA3        	sz [35].5
  98  001D  2800     R  	jmp _L10
 106  001E              #line 106 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 106  001E  0700     E  	mov a,rb
 106  001F  0380     E  	addm a,ra
 106  0020  1800     E  	rla ra
 106  0021  0E01        	and a,1
 106  0022  0080     E  	mov rb,a
 106  0023  0700     E  	mov a,rb
 106  0024  0380     E  	addm a,ra
 106  0025  1A00     E  	rlca ra
 106  0026  1B80     E  	rrc ra
 107  0027              #line 107 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 107  0027  0F3F        	mov a,63
 107  0028  0680     E  	andm a,ra
 107  0029  0700     E  	mov a,ra
 107  002A  05A4        	orm a,[36]
 107  002B  2800     R  	jmp _L18
 107  002C              _L10:
  94  002C              #line 94 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
  94  002C  1580     E  	dec ra
 103  002D              #line 103 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 103  002D  2800     R  	jmp _L11
 103  002E              _L18:
 103  002E  0003        	ret
 103  002F              _CalibrateOPA0 endp
 103  002F              #line 103 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 103  002F              #pragma debug scope 1 1
"File: SmokeDetector.c  Assembler  Version HGASM0202      Page 4

 103  002F              ___sda1vos equ [38]
 103  002F              public _CalibrateOPA1
 103  002F              #pragma debug scope 5 1
 112  002F              #line 112 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 112  0000              _CalibrateOPA1 .section 'code'
 112  0000              _CalibrateOPA1 proc
 117  0000              #line 117 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 117  0000  33A6        	set [38].7
 118  0001              #line 118 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 118  0001  3326        	set [38].6
 118  0002              _L21:
 122  0002              #line 122 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 122  0002  3AA5        	snz [37].5
 122  0003  2800     R  	jmp _L21
 122  0004  1F00     E  	clr ra
 122  0005              _L23:
 126  0005              #line 126 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 126  0005  0700     E  	mov a,ra
 126  0006  05A6        	orm a,[38]
 128  0007              #line 128 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 128  0007  3EA5        	sz [37].5
 128  0008  2800     R  	jmp _L28
 124  0009              #line 124 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 124  0009  1480     E  	inc ra
 124  000A  0700     E  	mov a,ra
 124  000B  0A40        	sub a,64
 124  000C  390A        	snz z
 124  000D  2800     R  	jmp _L23
 124  000E  2800     R  	jmp _L22
 124  000F              _L28:
 124  000F  0700     E  	mov a,ra
 124  0010  0080     E  	mov rb,a
 124  0011              _L22:
 136  0011              #line 136 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 136  0011  0F3F        	mov a,63
 136  0012  05A6        	orm a,[38]
 136  0013              _L25:
 137  0013              #line 137 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 137  0013  3EA5        	sz [37].5
 137  0014  2800     R  	jmp _L25
 137  0015  0F3F        	mov a,63
 137  0016  0080     E  	mov ra,a
 137  0017              _L27:
 142  0017              #line 142 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 142  0017  0700     E  	mov a,ra
 142  0018  0E3F        	and a,63
 142  0019  0080     E  	mov rc,a
 142  001A  0700     E  	mov a,rc
 142  001B  05A6        	orm a,[38]
 143  001C              #line 143 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 143  001C  3EA5        	sz [37].5
 143  001D  2800     R  	jmp _L26
 151  001E              #line 151 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 151  001E  0700     E  	mov a,rb
 151  001F  0380     E  	addm a,ra
 151  0020  1800     E  	rla ra
 151  0021  0E01        	and a,1
 151  0022  0080     E  	mov rb,a
 151  0023  0700     E  	mov a,rb
 151  0024  0380     E  	addm a,ra
"File: SmokeDetector.c  Assembler  Version HGASM0202      Page 5

 151  0025  1A00     E  	rlca ra
 151  0026  1B80     E  	rrc ra
 152  0027              #line 152 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 152  0027  0F3F        	mov a,63
 152  0028  0680     E  	andm a,ra
 152  0029  0700     E  	mov a,ra
 152  002A  05A6        	orm a,[38]
 152  002B  2800     R  	jmp _L33
 152  002C              _L26:
 139  002C              #line 139 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 139  002C  1580     E  	dec ra
 148  002D              #line 148 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 148  002D  2800     R  	jmp _L27
 148  002E              _L33:
 148  002E  0003        	ret
 148  002F              _CalibrateOPA1 endp
 148  002F              #line 148 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 148  002F              #pragma debug scope 1 1
 148  002F              public _InitSmokeDetection
 148  002F              #pragma debug scope 6 1
 157  002F              #line 157 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 157  0000              _InitSmokeDetection .section 'code'
 157  0000              _InitSmokeDetection proc
 158  0000              #line 158 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 158  0000  2000     R  	call _InitOPA
 160  0001              #line 160 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 160  0001  2000     E  	call _ADCInit
 160  0002  0003        	ret
 160  0003              _InitSmokeDetection endp
 160  0003              #line 160 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 160  0003              #pragma debug scope 1 1
 160  0003              public _CheckSmokeLevel
 160  0003              #pragma debug scope 7 1
 165  0003              #line 165 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 165  0000              _CheckSmokeLevel .section 'code'
 165  0000              _CheckSmokeLevel proc
 165  0000  0003        	ret
 165  0001              _CheckSmokeLevel endp
 165  0001              #line 165 "c:\users\tech\desktop\powerlinetransceiver\SmokeDetector\SmokeDetector.c"
 165  0001              #pragma debug scope 1 1
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug variable 43 1 ___sda0c "__sda0c" 1
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug variable 45 1 ___sda0vos "__sda0vos" 1
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug variable 47 1 ___sda1c "__sda1c" 1
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug struct_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug union_end
 165  0001              #pragma debug variable 49 1 ___sda1vos "__sda1vos" 1
"File: SmokeDetector.c  Assembler  Version HGASM0202      Page 6

 165  0001              extern _ADCInit:near
 165  0001              
 165  0001              ; 
 165  0001              ; Generated by holtek-gcc v3.19, Sat Sep 14 16:44:48 2024
 165  0001              ; Rebuild 718
 165  0001              ; end of file


        0 Errors, 0